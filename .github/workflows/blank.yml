name: Dummy test

on:
  push:
    branches: [ main ]
  pull_request:
    branches: [ main ]

  workflow_dispatch:

jobs:
  echo substitutions:
    runs-on: ubuntu-latest

    steps:
      # Runs a set of commands using the runners shell
      - name: Test GHA expressions language
        run: |
          echo null: ${{ null }}

          echo bools
          echo true: ${{ true }}
          echo false: ${{ false }}

          echo numbers
          echo 0: ${{ 0 }}
          echo 1: ${{ 1 }}
          echo 10: ${{ 10 }}
          echo -0: ${{ -0 }}
          echo -0.0: ${{ -0.0 }}
          echo -1: ${{ -1 }}

          echo strings

          echo empty string: ${{ '' }}
          echo \'potato\': ${{ 'potato' }}

          echo "no array or object literals!"
          echo "can't subsitute and not provide an expression"

  test reading from matrix:
    strategy:
      matrix:
        include:
          - label: SQLite

          - label: SQLite, full HTTP APIs
            api: full-http

          - label: Postgres
            postgres: postgres

          - label: Postgres, full HTTP APIs
            postgres: postgres
            api: full-http

    name: ${{ matrix.label }}
    steps:
      - name: Echooooooo
      - run: |
          echo label: ${{ matrix.label }}
          echo api: ${{ matrix.api }}
          echo postgres: ${{ matrix.postgres }}
